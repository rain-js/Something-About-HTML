<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
</head>
<body>
	<form action="/echo">
		<p>
			<label>身高(m): </label>
			<input type="number" min="0.5" max="2.5" step="0.01" name="height" value="1.7">	
		</p>
		<p>
			<label>体重(kg): </label>
			<input type="range" min="10" max="150" step="0.01" name="weight" value="62">	
			<output for="weight"></output>
		</p>
		<p>
			<label>BMI: </label>
			<output for="weight height"></output>
		</p>
	</form>

	<script type="text/javascript">
		var form = document.querySelector('form');

		form.addEventListener('input', update);

		function update() {
			var data = new FormData(form),
				height = parseFloat(data.get('height')),
				weight = parseFloat(data.get('weight'));
			
			document.querySelector('[for="weight"]').value = weight;
			document.querySelector('[for="weight height"]').value = getBMI(height, weight);
		}

		function getBMI(height, weight) {
			return (weight / Math.pow(height, 2)).toFixed(2);
		}

	</script>
</body>
</html>